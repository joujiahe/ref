<head>
  <title>ref</title>
</head>

<body>
  <div>{{> navbar}}</div>
  <div>{{> entry}}</div>
  <div>{{> posts}}</div>
</body>

<template name="navbar">
  <h1>ref</h1>
  <div id="top-tag-filter">
    {{> tag_filter}}
  </div>
  {{loginButtons}}
</template>

<template name="tag_filter">
  <div id="tag-filter" class="tag-list">
    <div class="label">Show:</div>
    {{#each tags}}
      <div class="tag {{selected}}">
        {{tag_text}} <span class="count">({{count}})</span>
      </div>
    {{/each}}
  </div>
</template>

<template name="entry">
  {{#if currentUser}}
    <p><input type="text" id="title" placeholder="Title here..."/></p>
    <p><textarea id="content" placeholder="Content here..."/></textarea></p>
    <p><input type="text" id="tags" placeholder="Tags here..."/></p>
    <input type="button" class="submit" value="Submit" />
  {{/if}}
</template>

<template name="posts">
  {{#if loading}}
    Loading...
  {{else}}
  {{#each posts}}
    {{> post}}
  {{/each}}
  {{/if}}
</template>

<template name="post">
  <p>{{getScore}} <strong>{{title}}</strong> {{createdTimeFromNow}}</p>
  <p>{{content}}</p>
  <p>{{tags}}</p>
  <p>
    <input type="button" class="up" value="Up" />
    <input type="button" class="down" value="Down" />
  </p>
</template>
